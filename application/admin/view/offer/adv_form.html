{include file="public/header" /}



<div class="page">

  <div class="fixed-empty"></div>
  <form id="adv_form" enctype="multipart/form-data" method="post" name="advForm">
    <table class="ds-default-table">
      <tbody>
      <tr class="noborder">
          <td class=" w120"><label  for="offer_title">报价标题:</label></td>
          <td class="vatop rowform"><input type="text" name="offer_title" id="offer_title" class="txt" value="{$adv.offer_title|default=''}"></td>
          <td class="vatop tips"></td>
      </tr>
        <tr class="noborder">
          <td class=" w120"><label  for="offer_content">报价内容:</label></td>
            <td class="vatop rowform"><textarea name="offer_content" rows="5" cols="5"></textarea></td>
          <td class="vatop tips"></td>
        </tr>
        <tr class="noborder">
            <td class="required"><label>所属分类:</label></td>
            <td class="vatop rowform">
                <select name="class_id" id="class_id">
                    {foreach name="class" item="ap" key="ap_k" }
                    <option value='{$ap.gc_id}' {if condition="$Request.param.gc_id eq $ap.gc_id"}selected{/if}>{$ap.gc_name}</option>
                    {/foreach}
                </select>
            </td>
            <td class="vatop tips"></td>
        </tr>
        <tr id="adv_code" class="noborder">
            <input type="hidden" name="mark" value="0">
            <td class="required"><label >{$Think.lang.adv_img_upload}:</label></td>
            <td class="vatop rowform">
                 <span class="type-file-box">
                    <input type='text' name='textfield1' id='textfield1' class='type-file-text' />
                    <input type='button' name='button' id='button' value='' class='type-file-button' />
                    <input name="image1" id="file_image" type="file" class="type-file-file" id="site_logo" size="30" hidefocus="true">
                </span>
               <span class="type-file-box">
                    <input type='text' name='textfield2' id='textfield2' class='type-file-text' />
                    <input type='button' name='button' id='button2' value='' class='type-file-button' />
                    <input name="image2" id="file_image2" type="file" class="type-file-file" id="site_logo2" size="30" hidefocus="true">
                </span>
                <span class="type-file-box">
                    <input type='text' name='textfield3' id='textfield3' class='type-file-text' />
                    <input type='button' name='button' id='button3' value='' class='type-file-button' />
                    <input name="image3" id="file_image3" type="file" class="type-file-file" id="site_logo3" size="30" hidefocus="true">
                </span>
            </td>
          <td class="vatop tips">{$Think.lang.adv_edit_support}gif,jpg,jpeg,png </td>
        </tr>


      </tbody>
      <tfoot>
        <tr class="tfoot">
            <td colspan="15"><a href="JavaScript:void(0);" class="btn" id="submitBtn" ><span>{$Think.lang.ds_submit}</span></a></td>
        </tr>
      </tfoot>
    </table>
  </form>
</div>
<link href="{$Think.PLUGINS_SITE_ROOT}/colorpicker/evol.colorpicker.css" rel="stylesheet" type="text/css">
<script src="{$Think.PLUGINS_SITE_ROOT}/colorpicker/evol.colorpicker.min.js"></script>
<script type="text/javascript">
$(function(){
    $('#adv_startdate').datepicker({dateFormat: 'yy-mm-dd'});
    $('#adv_enddate').datepicker({dateFormat: 'yy-mm-dd'});
    $('#adv_bgcolor').colorpicker({showOn: 'both'});
        $("#file_image").change(function () {
            $("#textfield1").val($("#file_image").val());
        });
    $("#file_image2").change(function () {
        $("#textfield2").val($("#file_image2").val());
    });
    $("#file_image3").change(function () {
        $("#textfield3").val($("#file_image3").val());
    });
});
</script>

<script>
    //按钮先执行验证再提交表单
    $(function(){
        $("#submitBtn").click(function(){
        if($("#adv_form").valid()){
            $("#adv_form").submit();
        }
       });
        $('#adv_form').validate({
            errorPlacement: function(error, element){
                error.appendTo(element.parent().parent().find('td:last'));
            },
            rules : {
                adv_name : {
                    required : true
                }
            },
            messages : {
                adv_name : {
                    required : '{$Think.lang.ap_can_not_null}'
                }

            }
        });
    });
</script>